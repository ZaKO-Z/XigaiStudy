<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>ä¸ªäººä¸­å¿ƒ - ç”¨æˆ·ä¿¡æ¯ç®¡ç†</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f4f6fb;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #0055a5;
      color: white;
      padding: 16px 24px;
      font-size: 20px;
    }
    .container {
      max-width: 800px;
      margin: 30px auto;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    .profile-header {
      display: flex;
      align-items: center;
      padding: 20px;
      background-color: #eef3fb;
      border-bottom: 1px solid #ddd;
    }
    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      overflow: hidden;
      margin-right: 20px;
      position: relative;
      cursor: pointer;
    }
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .avatar::after {
      content: "ç‚¹å‡»æ›´æ¢å¤´åƒ";
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.5);
      color: white;
      font-size: 12px;
      text-align: center;
      padding: 3px 0;
      opacity: 0;
      transition: 0.3s;
    }
    .avatar:hover::after {
      opacity: 1;
    }
    .profile-info h2 {
      margin: 0;
      font-size: 22px;
    }
    .profile-info p {
      color: #666;
      margin: 5px 0 0;
    }

    .content {
      padding: 20px 30px 40px;
    }
    h3 {
      margin-top: 0;
      color: #333;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    label {
      font-weight: 600;
      color: #333;
    }
    input, select, textarea {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
      font-size: 14px;
      box-sizing: border-box;
    }
    textarea {
      resize: vertical;
    }
    .actions {
      text-align: right;
      margin-top: 10px;
    }
    button {
      background-color: #0055a5;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      background-color: #003e7a;
    }

    .divider {
      margin: 30px 0;
      border-bottom: 1px solid #eee;
    }
  </style>
</head>
<body>
  <header>ğŸ‘¤ ç”¨æˆ·ä¸ªäººä¸­å¿ƒ</header>
  <div class="container">
    <div class="profile-header">
      <div class="avatar" id="avatar">
        <img id="avatarImg" src="https://i.pravatar.cc/150?img=5" alt="ç”¨æˆ·å¤´åƒ">
      </div>
      <div class="profile-info">
        <h2 id="displayName">å¼ ä¸‰</h2>
        <p id="displayEmail">zhangsan@example.com</p>
      </div>
    </div>

    <div class="content">
      <h3>åŸºæœ¬ä¿¡æ¯</h3>
      <form id="profileForm">
        <div>
          <label for="name">æ˜µç§°ï¼š</label>
          <input type="text" id="name" value="å¼ ä¸‰">
        </div>
        <div>
          <label for="email">é‚®ç®±ï¼š</label>
          <input type="email" id="email" value="zhangsan@example.com">
        </div>
        <div>
          <label for="phone">æ‰‹æœºå·ï¼š</label>
          <input type="tel" id="phone" value="13800001234">
        </div>
        <div>
          <label for="bio">ä¸ªæ€§ç­¾åï¼š</label>
          <textarea id="bio" rows="3" placeholder="å†™ç‚¹å…³äºè‡ªå·±çš„è¯å§">çƒ­çˆ±ç¼–ç¨‹ä¸ç”Ÿæ´»çš„æ™®é€šäººã€‚</textarea>
        </div>
        <div class="actions">
          <button type="button" onclick="saveProfile()">ä¿å­˜ä¿®æ”¹</button>
        </div>
      </form>

      <div class="divider"></div>

      <h3>è´¦æˆ·å®‰å…¨</h3>
      <form id="passwordForm">
        <div>
          <label for="oldPassword">å½“å‰å¯†ç ï¼š</label>
          <input type="password" id="oldPassword" placeholder="è¯·è¾“å…¥å½“å‰å¯†ç ">
        </div>
        <div>
          <label for="newPassword">æ–°å¯†ç ï¼š</label>
          <input type="password" id="newPassword" placeholder="è¯·è¾“å…¥æ–°å¯†ç ">
        </div>
        <div>
          <label for="confirmPassword">ç¡®è®¤æ–°å¯†ç ï¼š</label>
          <input type="password" id="confirmPassword" placeholder="å†æ¬¡è¾“å…¥æ–°å¯†ç ">
        </div>
        <div class="actions">
          <button type="button" onclick="updatePassword()">ä¿®æ”¹å¯†ç </button>
        </div>
      </form>
    </div>
  </div>

  <input type="file" id="avatarInput" accept="image/*" style="display:none;">

  <script>
    // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®ï¼ˆå®é™…é¡¹ç›®å¯ä»æœåŠ¡å™¨è·å–ï¼‰
    const user = {
      name: "å¼ ä¸‰",
      email: "zhangsan@example.com",
      phone: "13800001234",
      bio: "çƒ­çˆ±ç¼–ç¨‹ä¸ç”Ÿæ´»çš„æ™®é€šäººã€‚",
      avatar: "https://i.pravatar.cc/150?img=5"
    };

    // åˆå§‹åŒ–
    document.getElementById("name").value = user.name;
    document.getElementById("email").value = user.email;
    document.getElementById("phone").value = user.phone;
    document.getElementById("bio").value = user.bio;
    document.getElementById("avatarImg").src = user.avatar;

    // ä¿å­˜ä¿¡æ¯
    function saveProfile() {
      user.name = document.getElementById("name").value.trim();
      user.email = document.getElementById("email").value.trim();
      user.phone = document.getElementById("phone").value.trim();
      user.bio = document.getElementById("bio").value.trim();

      document.getElementById("displayName").textContent = user.name;
      document.getElementById("displayEmail").textContent = user.email;
      alert("âœ… ä¿¡æ¯å·²ä¿å­˜ï¼");
      localStorage.setItem("userProfile", JSON.stringify(user));
    }

    // ä¿®æ”¹å¯†ç ï¼ˆæœ¬åœ°æ¨¡æ‹Ÿï¼‰
    function updatePassword() {
      const oldPwd = document.getElementById("oldPassword").value;
      const newPwd = document.getElementById("newPassword").value;
      const confirmPwd = document.getElementById("confirmPassword").value;
      if (!oldPwd || !newPwd || !confirmPwd) {
        alert("è¯·å¡«å†™å®Œæ•´å¯†ç ä¿¡æ¯ï¼");
        return;
      }
      if (newPwd !== confirmPwd) {
        alert("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´ï¼");
        return;
      }
      alert("ğŸ” å¯†ç ä¿®æ”¹æˆåŠŸï¼ˆç¤ºä¾‹ä¸­æœªçœŸæ­£ä¿å­˜ï¼‰ï¼");
      document.getElementById("passwordForm").reset();
    }

    // æ›´æ¢å¤´åƒ
    const avatar = document.getElementById("avatar");
    const avatarInput = document.getElementById("avatarInput");

    avatar.addEventListener("click", () => avatarInput.click());
    avatarInput.addEventListener("change", function() {
      const file = this.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById("avatarImg").src = e.target.result;
        user.avatar = e.target.result;
        localStorage.setItem("userProfile", JSON.stringify(user));
      };
      reader.readAsDataURL(file);
    });

    // ä»æœ¬åœ°åŠ è½½ä¿å­˜è¿‡çš„èµ„æ–™
    const saved = localStorage.getItem("userProfile");
    if (saved) {
      Object.assign(user, JSON.parse(saved));
      document.getElementById("name").value = user.name;
      document.getElementById("email").value = user.email;
      document.getElementById("phone").value = user.phone;
      document.getElementById("bio").value = user.bio;
      document.getElementById("displayName").textContent = user.name;
      document.getElementById("displayEmail").textContent = user.email;
      document.getElementById("avatarImg").src = user.avatar;
    }
  </script>
</body>
</html>
